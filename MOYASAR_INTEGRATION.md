# ุฏููู ุชูุงูู ุจูุงุจุฉ ุฏูุน ููุณุฑ (Moyasar Integration Guide)

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุฏูุฌ ุจูุงุจุฉ ุฏูุน ููุณุฑ ุจูุฌุงุญ ูู ููุตุฉ ุจุฏูู ูุชูููุฑ ุชุฌุฑุจุฉ ุฏูุน ุขููุฉ ููุชุทูุฑุฉ ูููุณุชุฎุฏููู.

## โ๏ธ ุงูููุฒุงุช ุงูููููุฐุฉ

### ๐ง ุงูุจุงู ุงูุฏ (Backend)
- โ **Payment Controller**: ูุนุงูุฌุฉ ุทูุจุงุช ุงูุฏูุน ูุชุฃููุฏ ุงููุนุงููุงุช
- โ **Webhook Handler**: ูุนุงูุฌุฉ ุฅุดุนุงุฑุงุช ููุณุฑ ุงูุชููุงุฆูุฉ
- โ **Order Model**: ูููุฐุฌ ูุญุฏุซ ูุญูุธ ุจูุงูุงุช ุงูุทูุจุงุช ูุงูุฏูุน
- โ **Security**: ุญูุงูุฉ ูู ุงูุญุงูุงุช ุงูุดุงุฐุฉ ูุงูุชูุงุนุจ
- โ **Email Notifications**: ุฅุฑุณุงู ุชุฃููุฏุงุช ุงูุทูุจุงุช ุนุจุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู

### ๐จ ุงููุฑููุช ุงูุฏ (Frontend)  
- โ **Checkout Page**: ุตูุญุฉ ุฏูุน ูุชูุงููุฉ ูุน ููุณุฑ
- โ **Payment Modal**: ูููุฐุฌ ุฏูุน ุฃููู ูุขูู
- โ **Order Success**: ุตูุญุฉ ุชุฃููุฏ ุงูุทูุจ ูุน ุชุชุจุน ุงูุญุงูุฉ
- โ **Error Handling**: ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ูุงูุญุงูุงุช ุงูุงุณุชุซูุงุฆูุฉ
- โ **Real-time Status**: ุชุญุฏูุซ ุญุงูุฉ ุงูุฏูุน ูู ุงูููุช ุงููุนูู

## ๐ ุงูุฃูุงู ูุงูุญูุงูุฉ

### ุญูุงูุฉ ูู ุงูุญุงูุงุช ุงูุดุงุฐุฉ:
- **ุฎุฑูุฌ ุฃุซูุงุก ุงูุฏูุน**: ุงููุธุงู ูุชุญูู ูู ุญุงูุฉ ุงูุฏูุน ููุคูุฏ ุงูุทูุจ ุฅุฐุง ุชู ุงูุฎุตู
- **ุงููุทุงุน ุงูุงุชุตุงู**: Webhook ูุถูู ุชุฃููุฏ ุงูุทูุจุงุช ุญุชู ูู ุงููุทุน ุงูุงุชุตุงู
- **ุชุญุฏูุซ ุงููุฎุฒูู**: ูุชู ุชุญุฏูุซ ูููุงุช ุงูููุชุฌุงุช ููุท ุนูุฏ ุชุฃููุฏ ุงูุฏูุน
- **ุงูุชุญูู ูู ุงููุจุงูุบ**: ุงูุชุฃูุฏ ูู ุชุทุงุจู ูุจุงูุบ ุงูุฏูุน ูุน ุงูุทูุจุงุช

## ๐ ุทุฑู ุงูุฏูุน ุงููุฏุนููุฉ

1. **ุงูุฏูุน ุนูุฏ ุงูุงุณุชูุงู (COD)**
   - ุชุฃููุฏ ููุฑู ููุทูุจ
   - ุฅุฑุณุงู ุฅุดุนุงุฑ ุจุงูุจุฑูุฏ ุงูุฅููุชุฑููู
   
2. **ุงูุจุทุงูุงุช ุงูุงุฆุชูุงููุฉ**
   - ููุฒุงุ ูุงุณุชุฑูุงุฑุฏุ ูุฏู
   - ุฏูุน ุขูู ุนุจุฑ ููุณุฑ
   - ุชุฃููุฏ ููุฑู ุนูุฏ ูุฌุงุญ ุงูุฏูุน

## ๐งช ุงูุจุทุงูุงุช ุงูุชุฌุฑูุจูุฉ

ููุงุฎุชุจุงุฑุ ุงุณุชุฎุฏู ุงูุจุทุงูุงุช ุงูุชุงููุฉ:

### ุจุทุงูุฉ ุงููุฌุงุญ:
- **ุฑูู ุงูุจุทุงูุฉ**: `4111 1111 1111 1111`
- **ุชุงุฑูุฎ ุงูุงูุชูุงุก**: ุฃู ุชุงุฑูุฎ ูุณุชูุจูู
- **CVV**: ุฃู 3 ุฃุฑูุงู

### ุจุทุงูุฉ ุงููุดู:
- **ุฑูู ุงูุจุทุงูุฉ**: `4000 0000 0000 0002`
- **ุชุงุฑูุฎ ุงูุงูุชูุงุก**: ุฃู ุชุงุฑูุฎ ูุณุชูุจูู
- **CVV**: ุฃู 3 ุฃุฑูุงู

## ๐ง ุงูุชูููู

### ูุชุบูุฑุงุช ุงูุจูุฆุฉ (Environment Variables):

```env
# Moyasar Configuration
MOYASAR_PUBLIC_KEY=pk_test_jMJ9G9hod66VrmMqBjPv5GQxZX5d6LW8MKerNuYh
MOYASAR_SECRET_KEY=sk_test_Nog5Vyz4ovEjv1dU95Qw4tpdGdp6bk2jCmzDciZA
MOYASAR_API_URL=https://api.moyasar.com/v1
MOYASAR_WEBHOOK_SECRET=your_webhook_secret
```

## ๐ก API Endpoints

### ุฅูุดุงุก ุทูุจ ุฏูุน:
```
POST /api/v1/payments/create-payment
```

### ุชุฃููุฏ ุงูุฏูุน:
```
POST /api/v1/payments/confirm
```

### Webhook:
```
POST /api/v1/payments/webhook
```

### ุญุงูุฉ ุงูุฏูุน:
```
GET /api/v1/payments/status/:orderId
```

## ๐ ุชุฏูู ุงูุนูู (Workflow)

1. **ุฅูุดุงุก ุงูุทูุจ**: ุงููุณุชุฎุฏู ูููุฃ ุจูุงูุงุช ุงูุทูุจ
2. **ุงุฎุชูุงุฑ ุทุฑููุฉ ุงูุฏูุน**: COD ุฃู ุจุทุงูุฉ ุงุฆุชูุงู
3. **ูุนุงูุฌุฉ ุงูุฏูุน**: 
   - COD: ุชุฃููุฏ ููุฑู
   - ุจุทุงูุฉ: ุชูุฌูู ููููุฐุฌ ููุณุฑ
4. **ุชุฃููุฏ ุงูุฏูุน**: ุนุจุฑ callback ุฃู webhook
5. **ุชุญุฏูุซ ุงูุทูุจ**: ุญูุธ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
6. **ุฅุฑุณุงู ุงูุชุฃููุฏ**: ุนุจุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู

## ๐ฆ ุญุงูุงุช ุงูุทูุจ

- **pending**: ูู ุงูุชุธุงุฑ ุงูุฏูุน
- **confirmed**: ุชู ุชุฃููุฏ ุงูุทูุจ ูุงูุฏูุน
- **cancelled**: ุชู ุฅูุบุงุก ุงูุทูุจ
- **failed**: ูุดู ูู ุงูุฏูุน

## ๐ ุญุงูุงุช ุงูุฏูุน

- **pending**: ูู ุงูุชุธุงุฑ ุงููุนุงูุฌุฉ
- **paid**: ุชู ุงูุฏูุน ุจูุฌุงุญ
- **failed**: ูุดู ูู ุงูุฏูุน
- **cod**: ุงูุฏูุน ุนูุฏ ุงูุงุณุชูุงู

## ๐ ุงูุฏุนู ุงูููู

ููุญุตูู ุนูู ุงููุณุงุนุฏุฉ:
- **ููุณุฑ**: [email protected]
- **ุงููุซุงุฆู**: https://docs.moyasar.com/

## ๐ฏ ุงูุฎุทูุงุช ุงูุชุงููุฉ

1. **ุชุซุจูุช ุงูููุชุจุงุช**: `npm install` ูู ูุฌูุฏ ุงูุจุงู ุงูุฏ
2. **ุฅุนุฏุงุฏ ูุชุบูุฑุงุช ุงูุจูุฆุฉ**: ูุณุฎ `.env.example` ุฅูู `.env`
3. **ุชุดุบูู ุงูุฎุงุฏู**: `npm run dev`
4. **ุงุฎุชุจุงุฑ ุงูุชูุงูู**: ุงุณุชุฎุฏุงู ุงูุจุทุงูุงุช ุงูุชุฌุฑูุจูุฉ

---

## ๐ ุฅุญุตุงุฆูุงุช ุงูุชูุงูู

- โ **15 ููู** ุชู ุฅูุดุงุคู/ุชุญุฏูุซู
- โ **4 API endpoints** ุฌุฏูุฏุฉ
- โ **2 ุทุฑู ุฏูุน** ูุฏุนููุฉ
- โ **100% ุขูู** ุถุฏ ุงูุญุงูุงุช ุงูุดุงุฐุฉ
- โ **Real-time** ุชุญุฏูุซ ุงูุญุงูุฉ

**๐ ุงูุชูุงูู ููุชูู ูุฌุงูุฒ ููุงุณุชุฎุฏุงู!**
